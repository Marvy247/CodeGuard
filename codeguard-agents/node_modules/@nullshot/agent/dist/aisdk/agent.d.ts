import { ModelMessage, LanguageModel, StreamTextResult, ToolSet } from 'ai';
import { MiddlewareService, StreamTextWithMessagesParams, StreamTextWithPromptParams } from './middleware';
import { NullShotAgent } from '../agent';
import { AgentEnv } from '../env';
import { Service } from '../service';
/**
 * A message from the AI UI SDK - Could not find this in the ai package
 */
export interface AIUISDKMessage {
    id: string;
    messages: ModelMessage[];
}
/**
 * A wrapper around the AI SDK's to support AI UI SDK and enhanced middleware support
 */
export declare abstract class AiSdkAgent<ENV extends AgentEnv> extends NullShotAgent<ENV, AIUISDKMessage> {
    protected model: LanguageModel;
    protected middleware: MiddlewareService[];
    constructor(state: DurableObjectState, env: ENV, model: string | LanguageModel, services?: Service[]);
    protected initializeServices(): Promise<void>;
    /**
     * Stream text with messages (conversation mode)
     */
    protected streamTextWithMessages(sessionId: string, messages: ModelMessage[], options?: Omit<Partial<StreamTextWithMessagesParams>, 'model' | 'messages'>): Promise<StreamTextResult<ToolSet, string>>;
    /**
     * Stream text with prompt (single prompt mode)
     */
    protected streamTextWithPrompt(sessionId: string, prompt: string, options?: Omit<Partial<StreamTextWithPromptParams>, 'model' | 'prompt'>): Promise<StreamTextResult<ToolSet, string>>;
    /**
     * Common logic to enrich parameters with tools via middleware
     */
    private enrichParamsWithTools;
}
