import { ModelMessage, ToolSet, LanguageModel, ToolChoice, TelemetrySettings, StreamTextTransform, StreamTextOnChunkCallback, StreamTextOnErrorCallback, StreamTextOnFinishCallback, StreamTextOnStepFinishCallback, ToolCallRepairFunction, LanguageModelMiddleware, StopCondition, PrepareStepFunction, StepResult } from 'ai';
import { Service } from '../service';
type IDGenerator = () => string;
type StreamTextOnAbortCallback<TOOLS extends ToolSet> = (event: {
    readonly steps: StepResult<TOOLS>[];
}) => PromiseLike<void> | void;
/**
 * Base parameters shared between messages and prompt modes
 */
interface StreamTextParams {
    model: string | LanguageModel;
    tools?: ToolSet;
    toolChoice?: ToolChoice<ToolSet>;
    maxOutputTokens?: number;
    temperature?: number;
    topP?: number;
    topK?: number;
    presencePenalty?: number;
    frequencyPenalty?: number;
    stopSequences?: string[];
    seed?: number;
    maxRetries?: number;
    abortSignal?: AbortSignal;
    headers?: Record<string, string | undefined>;
    maxSteps?: number;
    experimental_generateMessageId?: IDGenerator;
    experimental_continueSteps?: boolean;
    stopWhen?: StopCondition<ToolSet> | Array<StopCondition<ToolSet>>;
    prepareStep?: PrepareStepFunction<ToolSet>;
    experimental_activeTools?: Array<keyof ToolSet>;
    activeTools?: Array<keyof ToolSet>;
    experimental_repairToolCall?: ToolCallRepairFunction<ToolSet>;
    toolCallStreaming?: boolean;
    experimental_toolCallStreaming?: boolean;
    experimental_output?: any;
    experimental_transform?: StreamTextTransform<ToolSet> | Array<StreamTextTransform<ToolSet>>;
    includeRawChunks?: boolean;
    experimental_context?: unknown;
    onChunk?: StreamTextOnChunkCallback<ToolSet>;
    onError?: StreamTextOnErrorCallback;
    onFinish?: StreamTextOnFinishCallback<ToolSet>;
    onStepFinish?: StreamTextOnStepFinishCallback<ToolSet>;
    onAbort?: StreamTextOnAbortCallback<ToolSet>;
    providerOptions?: Record<string, any>;
    experimental_telemetry?: TelemetrySettings;
    _internal?: {
        now?: () => number;
        generateId?: IDGenerator;
        currentDate?: () => Date;
    };
}
/**
 * Parameters for streamText with messages (conversation mode)
 */
export interface StreamTextWithMessagesParams extends StreamTextParams {
    messages: ModelMessage[];
    system?: string;
}
/**
 * Parameters for streamText with prompt (single prompt mode)
 */
export interface StreamTextWithPromptParams extends StreamTextParams {
    prompt: string;
    system?: string;
}
export interface MiddlewareService extends Service, LanguageModelMiddleware {
    /**
     * Transform tools in streamText parameters
     * @param tools The original tools to transform
     * @param sessionId The session ID of the current request
     * @returns The transformed tools
     */
    transformStreamTextTools?(tools?: ToolSet): ToolSet;
}
export declare function isMiddlewareService(service: Service): service is MiddlewareService;
export {};
